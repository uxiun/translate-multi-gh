(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{3420:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return i(3394)}])},5437:function(e,n,i){"use strict";i.r(n);var s=i(1527),l=i(7910),r=i(3284),t=i(835),a=i(4781),c=i(8669),d=i(7535);let h=e=>{let{text:n}=e,[i]=(0,d.KO)(l.H7);return(0,s.jsx)(s.Fragment,{children:(0,r.dY)(n).map(e=>{let[n,l]=e;return(0,s.jsx)("div",{className:"ziyin",children:"below"==i.zh.pinyin_position?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hanzi",children:n}),(0,s.jsx)("div",{className:"pinyin",children:l})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pinyin",children:l}),(0,s.jsx)("div",{className:"hanzi",children:n})]})},n)})})},o=e=>{var n;let{text:i}=e,[o]=(0,d.KO)(l.H7),{data:u,error:x,isLoading:m}=(0,a.ZP)("/api/chinese/"+i,c.Z);if(x)return console.error(x),(0,s.jsx)(s.Fragment,{children:"load failed"});if(m)return o.zh.pinyin?"line"==o.zh.pinyin_display?(0,s.jsx)(s.Fragment,{children:"below"==o.zh.pinyin_position?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"line",children:i}),(0,s.jsx)("div",{className:"pinyin",children:(0,t.N9)(i,{nonZh:"consecutive"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pinyin",children:(0,t.N9)(i,{nonZh:"consecutive"})}),(0,s.jsx)("div",{className:"line",children:i})]})}):(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)(h,{text:i})}):(0,s.jsx)(s.Fragment,{children:i});console.log("data",u);let{py:j,han:v}=null!==(n=null==u?void 0:u.pairs.reduce((e,n)=>{let[i,s]=n;return{py:[...e.py,s],han:[...e.han,i]}},{py:[],han:[]}))&&void 0!==n?n:{py:[],han:[]},g=(0,r._M)(" ")(v),p=(0,r._M)(" ")(j);console.log("hanSegmented",g),console.log("pinyinSegmented",p);let f=o.zh.segment?g:i;return o.zh.pinyin?"line"==o.zh.pinyin_display?(0,s.jsx)(s.Fragment,{children:"below"==o.zh.pinyin_position?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"line",children:f}),(0,s.jsx)("div",{className:"pinyin",children:p})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pinyin",children:p}),(0,s.jsx)("div",{className:"line",children:f})]})}):(0,s.jsx)("div",{className:"flex",children:o.zh.segment?(0,s.jsx)(s.Fragment,{children:null==u?void 0:u.pairs.map(e=>{let[n,i]=e;return(0,s.jsx)("div",{className:"ziyin",children:"below"==o.zh.pinyin_position?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hanzi",children:n}),(0,s.jsx)("div",{className:"pinyin",children:i})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"pinyin",children:i}),(0,s.jsx)("div",{className:"hanzi",children:n})]})},n)})}):(0,s.jsx)(h,{text:i})}):(0,s.jsx)(s.Fragment,{children:f})};n.default=o},3394:function(e,n,i){"use strict";i.r(n);var s=i(1527),l=i(7910),r=i(4231),t=i(7246),a=i(7535),c=i(489);let d=(0,t.cn)(new Map),h=()=>{let[e]=(0,a.KO)(l.EE),[n,i]=(0,a.KO)(d),[t]=(0,a.KO)(l.OV),h=[...e];return h.pop(),(0,s.jsxs)("div",{className:"history",children:[(0,s.jsx)("h1",{children:(0,r.XF)(t.lang)("history")}),(0,s.jsx)(c.default,{listsrc:h,limit:t.history.displayLimit})]})};n.default=h},1235:function(e,n,i){"use strict";i.r(n);var s=i(1527),l=i(7910),r=i(7535),t=i(5437);let a=e=>{let{text:n,lang:i}=e,[t]=(0,r.KO)(l.OV),a=e=>{let{line:n}=e;return(0,s.jsx)("div",{className:"unit",children:(0,s.jsx)(c,{lang:i,line:n})})};return t.result.multiline?(0,s.jsx)(s.Fragment,{children:n.split("\n").map((e,n)=>(0,s.jsx)(a,{line:e},n))}):(0,s.jsx)(a,{line:n})},c=e=>{let{lang:n,line:i}=e,[a]=(0,r.KO)(l.H7);return["zh","zh-CN","zh-TW"].includes(n)?(0,s.jsx)(t.default,{text:i}):(0,s.jsx)(s.Fragment,{children:i})};n.default=a},489:function(e,n,i){"use strict";i.r(n);var s=i(1527),l=i(7910),r=i(7535),t=i(959),a=i(1235),c=i(2095),d=i(9150),h=i(8794),o=i(3016);let u=e=>{let{listsrc:n,limit:i}=e,l=null!=n?n:[];return(0,s.jsx)("div",{className:"sessions",children:[...l].slice(Math.max(0,l.length-i)).reverse().map((e,n)=>{let[i,{srclang:l,trans:r}]=e;return(0,s.jsx)("div",{children:(0,s.jsx)(x,{srclang:l,srctext:i,trans:r})},n)})})},x=e=>{let{srclang:n,srctext:i,trans:u}=e,[x]=(0,r.KO)(l.OV),[m,j]=t.useState(!0),v=e=>(0,l.vY)(e)(x.lang)+" (".concat(e,")"),{control:g}=(0,c.cI)({defaultValues:{show:!0}}),p=(0,c.qo)({control:g});return(0,t.useEffect)(()=>{var e;console.log("useWatchValue",p),j(n=>null!==(e=p.show)&&void 0!==e?e:n)},[p]),(0,s.jsxs)("div",{className:"session",children:[(0,s.jsx)(o.Z,{component:"form",children:(0,s.jsx)(function(e){let{name:n,checked:i}=e;return(0,s.jsx)(c.Qr,{control:g,name:n,render:e=>{let{field:n}=e;return(0,s.jsx)(d.Z,{...n,control:(0,s.jsx)(h.Z,{checked:i}),label:""})}})},{name:"show",checked:m})}),(0,s.jsxs)("div",{className:"src flex",children:[n?(0,s.jsx)("div",{className:"srclang",children:v(n)}):"",(0,s.jsx)("div",{className:"text",children:i})]}),m?(0,s.jsx)("div",{className:"resultbox",children:[...u].map(e=>{let[n,i]=e,l=v(n);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"targetLang",children:l}),(0,s.jsx)("div",{className:"units",children:(0,s.jsx)(a.default,{lang:n,text:i})})]})})}):""]})};n.default=u},4231:function(e,n,i){"use strict";i.d(n,{X$:function(){return d},XF:function(){return a},lB:function(){return c},xi:function(){return r}});var s=i(7910),l=i(3284);let r=["en","ja"],t={"input-label":["text to translate","翻訳対象"],"controller.required":["type something","入力してください"],"target.lang.label":["target language","目標言語"],"form.select.multi.required":["select at least one language","最低一つは言語を選択してください"],"form.select.from.label":["source language","原始言語（翻訳元）"],"form length limit":["within ".concat(s.XQ.form.limit," characters"),"".concat(s.XQ.form.limit,"字以内に収めてください")],translate:["translate","翻訳"],output:["Result","結果"],history:["History","履歴"]},a=e=>n=>{var i;return(0,l.wH)(r.findIndex(n=>n==e))(e=>e>=0)(e=>null!==(i=t[n].at(e))&&void 0!==i?i:"undefined")(e=>"language not found")},c=e=>n=>(0,l.wH)(r.findIndex(n=>n==e))(e=>e>=0)(e=>(0,l.wf)("")(n)(e))(e=>""),d=e=>n=>i=>{var s;return(0,l.wf)("no translation")(null!==(s=n.get(i))&&void 0!==s?s:[])(r.findIndex(n=>n==e))}}},function(e){e.O(0,[399,365,781,374,929,910,774,888,179],function(){return e(e.s=3420)}),_N_E=e.O()}]);